<!DOCTYPE html>
<html>
<head>
    <title>Sesli Arama</title>
    <style>
        body {
            background-image: url("https://raw.githubusercontent.com/emirx422/voice-call/main/public/windows_xp_original-wallpaper-1920x1080.jpg");
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-position: center;
            color: white;
            font-family: sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
            margin: 0;
            padding-bottom: 50px; /* Mesaj alanı için boşluk */
            box-sizing: border-box;
        }
        h1 {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        button {
            background-color: white;
            color: black;
            padding: 10px 20px;
            border-radius: 5px;
            margin: 5px;
            cursor: pointer;
        }
        #messages {
            position: fixed;
            left: 10px;
            bottom: 10px;
            max-width: 300px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            border-radius: 5px;
            overflow-y: auto;
            max-height: 150px;
            font-size: 0.9em;
        }
        #messageInput {
            position: fixed;
            bottom: 10px;
            left: 320px; /* Mesaj kutusunun sağına hizala */
            width: 200px;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-color: #f4f4f4;
            color: black;
        }
        #sendButton {
            position: fixed;
            bottom: 10px;
            left: 530px; /* Inputun sağına hizala */
            padding: 8px 15px;
            border-radius: 5px;
            border: none;
            background-color: #5cb85c;
            color: white;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Sesli Arama babazırrolar için!</h1>
    <button id="callBtn">Sesli aramak için tıkla</button>

    <div id="messages"></div>
    <input type="text" id="messageInput" placeholder="Mesaj yaz...">
    <button id="sendButton">Gönder</button>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        let localStream, peerConnection;
        const config = { iceServers: [{ urls: "stun:stun.l.google.com:19302" }] };
        const messagesDiv = document.getElementById('messages');
        const messageInput = document.getElementById('messageInput');
        const sendButton = document.getElementById('sendButton');

        document.getElementById("callBtn").onclick = async () => {
            localStream = await navigator.mediaDevices.getUserMedia({ audio: true });
            peerConnection = new RTCPeerConnection(config);
            localStream.getTracks().forEach(track => peerConnection.addTrack(track, localStream));
            peerConnection.ontrack = e => {
                const audio = document.createElement("audio");
                audio.srcObject = e.streams
